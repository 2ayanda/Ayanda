<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.jsdelivr.net/npm/axios@1.6.7/dist/axios.min.js"></script>
    <title>Weather</title>
    <style>
        body{background-color:#ae07cf;
}
.weather-app{background:white;
max-width:600px;
margin: 45px auto;
box-shadow:0 30px 50px rgba(65,50,100,0.08);
border-radius: 16px; 
padding:30px;
}
.Search-form-input{
    background-color: #f9f7fe;
    border:none;
    border-radius: 6px;
    width: 80px;
    font-size: 16px;
    padding: 15px 20px;
}
.Search-form-button{
background-color: #885df1;
padding: 15px 20px;
border: none;
font:16px;
margin-left: 5px;
border-radius: 6px;
color:white;
}
header{
    border-button: 1px;
    color:#f9f7fe;
    padding:0 0 30px 0;
}
footer{
    padding: 0 0 30px 0;
    text-align: center;
    font-size: 13px;
    color: rgba (0,0,0,0.6);

}
.weather-app-data{
    display:flex;
    justify-content:space-between;
}
.weather-app-city{
    margin: 0;
    font-size:38px;
    line-height: 48px;
}
.weather-app-details{
    font-size: 16px;
    color: rgba (39,33,66,0.4);
    line-height: 20px;
}
.weather-app-deatails strong{
    color: rgb((231, 4, 175)255, 192, 241);
}
.weather-app-temperature-icon{
    display: flex;
}
.weather-app-temperature{
    font-size: 88px;
    font-weight: bold;
    margin-left: 10px;

}
.weather-app-icon{
    font-size: 44px;
    margin-top: 22px;
}
.weather-app-unit{
    margin-top:16px;
    font: size 28px;
}
.weather-Forecast-date{
    text-align: center;
    font-size: 16px;
    line-height: 20px;
}
.weather-Forecast-icon{
    font-size: 38px;
    text-align: center;
}
.weather-Forecast-temperature{
    padding: 0 10px;
}
.weather-Forecast-temperatures{
    text-align: center;
    color:pink;
    display:flex;
    justify-content: center;
}
.weather-Forecast{
    display: flex;
    justify-content: space-around;
    margin-top: 30px;
}
    </style>
</head>

<body>
    <header>
        <form>
            <div class="search-form-input">
            <input type="search" placeholder="Enter a city..."/>
        </div>
        <div class="search-form-button">
            <input type="submit" value="Search"/>
    </div>
        </form>
    </header>
    <main>
        <div class="Weather-app-data">

        <div>
            <h1 class="Weather-app-city">
                Johannesburg
            </h1>
            <p class="Weather-app-details">
                <span id="time"></span>
                 <span id="description"></span>
            <br/>
            humidity:<strong><span id="humidity"></span></strong> wind: <strong><span id="wind-aspeed"></span></strong>
            </p>
        </div>
        </div>
        <div>
            <div class="Weather-app-temperature-container">
          <div class="Weather-app-icon > ⛅
         </div>
          <div class="Weather-app-temperature"> 
            <span id="temperature"></span> </div>
           <div class="Weather-app-unit"> °c</div>
           <div class="weather-Forecast">
            <div class="weather-Forecast-day">
                <div class="weather-Forecast-date">Tue</div>
                <div class="weather-Forecast-icon"> </div>
                <div class="weather-Forecast-temperatures"> 15° 9°</div>
          </div>
          </div>
        </div>
        <div class="weather-Forecast" id="Forecast" </div>
        </main>
    <footer>
        coded by Ayanda B. hosted on Netlify
    </footer>
</div>
<script>
    function searchCity(City){
    let apikey="ab44bb21531o3774f3fcea50ta3bbe65";
    let apiurl="https://api.shecodes.io/weather/v1/current?query=${city}&key=${apiKey}";
     units="metric";
    console.log(apiurl);
    axios.get(apiurl).then(refreashWeather);
}
function refreashWeather(response){
    let temperatureElement=document.querySelector("#temperature");
    let temperature=response.data.temperature.current;
    let CityElement=document.querySelector("#city");
    let descriptionElement=document.querySelector("#description");
    let humidityElement=document.querySelector("#humidity");
    let windspeedElement=document.querySelector("#wind-speed");
    let timeElement=document.querySelector("#time");
    let date = new Date (response.data.time*1000);
    
    cityElement.innerHtml=response.data.City;
    timeElement.innerHtml=formatdate(date);

timeElement.innerHtml='${date.getday()}${date.gethours()}:${date.getminutes()};
descriptionElement.innerHtml=response.data.conditon.description;
    humidityElement.innerHtml='${response.data.temperature.humidity}%';
    windspeedElement.innerHtml='${response.data.wind-speed}km/h';
temperatureElement.innerHtml=Math.round(temperature);

    function formatDate(date){
        let minutes =date.getminutes();
        let hours= date.gethours();
        let days=[
            "Sunday";
            "Monday";
            "Tuesday";
            "Wednesday";
            "Thursday";
            "Friday";
            "Saturday";
        ];
        let day= days[ date.get.day()];
        return '${day} ${hours}:${minutes}';
        if (minutes<10){
            minutes= '0$(minutes)';
        }
    }
}
function handlesearchsubmit(event){
    event.preventDefault();
    let searchinput=document.querySelector("#search-form-input");
    searchCity(searchinput.value);
}
    let searchformElement=document.querySelector("#search-form");
    searchformElement.addEventListener("submit",handlesearchsubmit);

    function getForecast(city){
        let apiKey="ab44bb21531o3774f3fcea50ta3bbe65";
        let apiURL="https://api.shecodes.io/weather/v1/current?query=${city}&key=${apiKey}";
        axios(apiURL).then (displayForecast);
        getForecast(response.data.city);
    }
    function displayForecast(response){
        
        let ForecastHtml="";
        response.data.daily.foreEach(function(day,index){
            if (index<5){
                ForecastHtml=
                ForecastHtml+
                <div class="weather-Forecast-day">
                    <div class="weather-Forecast-date">${formatday(day.time)}
                    </div> </div>
                      }   }) }
    searchCity("Paris");
    displayForecast();
    function displayForecast(response){
        console.log(response.data);
        let days=["Tue","Wed","Thu","Fri","Sat","Sun"];
        let forecastHTML="";

        days.foreach(function(day){
            forecastHTML=
            forecastHTML+
            '<div class="weather-Forecast-day">+ date +icon etc
                <div class = "weather-Forecast-temperature">
                    <strong>15°</strong> </div>
                    <div class="weather-Forecast-temperature">9°</div>
                    </div>
                    </div>
                    ';
        });
        let forecastElement=document.querySelector("#forecast");
        forecastElement.innerHTML=forecastHTML,
    }
    let searchFormElement=document.querySelector("#search-form");
    searchformElement.addEventListener("submit",handlesearchsubmit);


</script>
</body>
</html>